<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>JSON 실습2</title>
        <style>
            .container {
                display: flex;
                gap: 50px;
                flex-wrap: wrap;
            }
            .flex-item {
                display: flex;
                width: 300px;
                flex-direction: column;
                border: 2px solid #d9dbe0;
                border-radius: 10px;
            }
            .status_box {
                display: flex;
                align-items: center;
                height: 40px;
                padding-left: 15px;
                gap: 10px;
            }
            .svg {
                height: 20px;
            }
            .status {
                display: flex;
                height: 30px;
                align-items: center;
                font-weight: 700;
                font-size: 17px;
            }
            .blue {
                fill: #2e6ff2;
                color: #2e6ff2;
            }
            .yellow {
                fill: #ffcf56;
                color: #ffcf56;
            }
            .gray {
                fill: #8d9299;
                color: #8d9299;
            }
            .imgbox {
                position: relative;
                height: 300px;
                width: 300px;
                overflow: hidden;
                border-top: 2px solid #d9dbe0;
                border-bottom: 2px solid #d9dbe0;
            }
            .thumbnail {
                position: absolute;
                top: 0;
                left: 0;
                transform: translate(50, 50);
                width: 100%;
                height: 100%;
                object-fit: cover;
                margin: auto;
            }
            .tag_box {
                height: 30px;
                margin-top: 10px;
                display: flex;
                align-items: center;
                padding-left: 10px;
            }
            .tag {
                font-size: 12px;
                font-weight: 550;
                border: 2px solid #d9dbe0;
                border-radius: 20px;
                text-align: center;
                margin: 0px 0px 0px 5px;
                padding: 4px 9px 4px 9px;
            }
            .title_box {
                margin-top: 10px;
                margin-bottom: 10px;
            }
            .title {
                height: 52px;
                font-weight: 900;
                font-size: 20px;
                padding: 3px 15px 3px 15px;
            }
        </style>
    </head>
    <body>
        <div class="container"></div>
        <script src="data2.js"></script>
        <script>
            s = "";
            for (const i of data) {
                // 이게 맞나요? 너무 복잡한거같은데...
                // container 선택.
                const container = document.querySelector(".container");
                // 카드 하나 생성.
                const box = document.createElement("div");
                box.classList.add("flex-item");
                // status 박스 생성.
                const statusbox = document.createElement("div");
                statusbox.classList.add("status_box");
                // 모집 중과 완료의 색을 다르게 하기.
                let color = "";
                let text_color = "black";
                switch (i.study_status.name) {
                    case "모집 중":
                        color = "blue";
                        break;
                    case "진행 중":
                        color = "yellow";
                        break;
                    default:
                        color = "gray";
                        text_color = "gray";
                }
                // SVG 아이콘 추가
                statusbox.innerHTML = `<svg class="svg ${color}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M480 32c0-12.9-7.8-24.6-19.8-29.6s-25.7-2.2-34.9 6.9L381.7 53c-48 48-113.1 75-181 75H192 160 64c-35.3 0-64 28.7-64 64v96c0 35.3 28.7 64 64 64l0 128c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32V352l8.7 0c67.9 0 133 27 181 75l43.6 43.6c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6V300.4c18.6-8.8 32-32.5 32-60.4s-13.4-51.6-32-60.4V32zm-64 76.7V240 371.3C357.2 317.8 280.5 288 200.7 288H192V192h8.7c79.8 0 156.5-29.8 215.3-83.3z"/></svg>`;
                // status 추가
                const status = document.createElement("span");
                status.classList.add("status", color);
                status.appendChild(
                    document.createTextNode(i.study_status.name)
                );
                // 썸네일 박스 생성, 이미지태그 생성
                const imgbox = document.createElement("div");
                imgbox.classList.add("imgbox");
                const thumbnail = document.createElement("img");
                thumbnail.classList.add("thumbnail");
                thumbnail.src = i.thumbnail;
                // 태그 박스 생성, 태그들 생성
                const tagbox = document.createElement("div");
                tagbox.classList.add("tag_box");
                const difficulty = document.createElement("span");
                difficulty.classList.add("tag");
                difficulty.appendChild(
                    document.createTextNode(i.difficulty.name)
                );
                const subject = document.createElement("span");
                subject.classList.add("tag");
                subject.appendChild(document.createTextNode(i.subject.name));

                // 타이틀 박스 추가
                const titlebox = document.createElement("div");
                titlebox.classList.add("title_box");
                const title = document.createElement("div");
                title.classList.add("title", text_color);
                title.appendChild(document.createTextNode(i.title));

                // 추가된 요소들 위치에 맞게 자식으로 할당.
                container.appendChild(box);
                box.append(statusbox, imgbox, tagbox, titlebox);
                statusbox.appendChild(status);
                titlebox.appendChild(title);
                tagbox.append(difficulty, subject);
                imgbox.appendChild(thumbnail);
            }
        </script>
    </body>
</html>
